<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org " xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://demos.creative-tim.com/notus-js/assets/styles/tailwind.css">
    <link rel="stylesheet" href="input.css" />
    <link rel="stylesheet" href="output.css" />
    <title>View More</title>
    <style>
        body {
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
        }
    </style>

</head>
<body class="min-h-screen flex items-center justify-center">
    <div class="max-w-4xl w-full bg-white  rounded-none sm:rounded-none md:rounded-none lg:rounded-lg shadow-lg overflow-hidden flex flex-col lg:flex-row">
        <div class="flex flex-row justify-center items-center w-full h-auto md:w-full lg:w-1/3 bg-gradient-to-r from-indigo-500 to-purple-500 p-2 lg:p-8">
            <img th:src="${studentDetail.booksDetails[0].image} != null ? ${studentDetail.booksDetails[0].image} : 'images/No image.jpg'" alt="Book Image" class="w-1/3 h-auto sm:w-1/3 md:w-1/5 lg:w-full  object-cover rounded-lg shadow-md">
        </div>
        <div class="lg:w-2/3 p-8 flex flex-col justify-between">
            <div>
                <h1 class="text-3xl md:text-4xl lg:text-4xl flex flex-col justify-center items-center font-bold mb-4">
                    <span th:text="${studentDetail.booksDetails[0].bookName} != null ? ${studentDetail.booksDetails[0].bookName} : 'Not Available'"></span>
                </h1>
                <p class="text-lg md:text-xl lg:text-xl mb-2">
                    <strong>Name:</strong>
                    <span th:text="${studentDetail.name} != null ? ${studentDetail.name} : 'Not Available'"></span>
                </p>
                <p class="text-lg md:text-xl lg:text-xl mb-2">
                    <strong>Roll No:</strong>
                    <span th:text="${studentDetail.roll_no} != null ? ${studentDetail.roll_no} : 'Not Available'"></span>
                </p>
                <p class="text-lg md:text-xl lg:text-xl mb-2">
                    <strong>Email:</strong> 
                    <span th:if="${isAdmin}">
                        <!-- Display the email -->
                        <span th:text="${studentDetail.email}" class="class="text-gray-600""></span>
                    </span>
                    <span th:unless="${isAdmin}" class="text-gray-600">
                       No For You
                    </span>
                </p>
                <p class="text-lg md:text-xl lg:text-xl mb-2">
                    <strong>Author:</strong>
                    <span th:text="${studentDetail.booksDetails[0].authors} != null ? ${studentDetail.booksDetails[0].authors} : 'Not Available'"></span>
                </p>
                <p class="text-lg md:text-xl lg:text-xl mb-2">
                    <strong>Published Date:</strong>
                    <span th:text="${studentDetail.booksDetails[0].publishedDate} != null ? ${studentDetail.booksDetails[0].publishedDate} : 'Not Available'"></span>
                </p>
                <p class="text-lg md:text-xl lg:text-xl mb-2">
                    <strong>Subtitle:</strong>
                    <span th:text="${studentDetail.booksDetails[0].subtitle} != null ? ${studentDetail.booksDetails[0].subtitle} : 'Not Available'"></span>
                </p>
                <p class="text-lg md:text-xl lg:text-xl mb-2">
                    <strong>Return Date:</strong>
                    <span th:text="${studentDetail.booksDetails[0].returnDate} != null ? ${studentDetail.booksDetails[0].returnDate} : 'Not Available'"></span>
                </p>
                <p class="text-lg md:text-xl lg:text-xl mb-2">
                    <strong>Synopsis:</strong>
                </p>
                <p class="text-gray-700 text-justify mb-4">
                    <span th:text="${studentDetail.booksDetails[0].synposis} != null ? ${studentDetail.booksDetails[0].synposis} : 'Not Available'"></span>
                </p>
            </div>
            
            <div class="mt-6 flex flex-col justify-center items-center sm:flex-row sm:flex-wrap sm:justify-start gap-[5px]">
                <a th:if="${studentDetail.booksDetails[0].bookPdf != null}"
                   th:href="@{${studentDetail.booksDetails[0].bookPdf}}"
                   class="inline-block bg-indigo-500 text-white py-2 px-4 rounded-lg shadow hover:bg-indigo-600 transition duration-300 cursor-pointer ">
                   Download PDF
                </a>
                <span th:if="${studentDetail.booksDetails[0].bookPdf == null}"
                   onclick="noBookAvailable()"
                   class="inline-block bg-indigo-500 text-white py-2 px-4 rounded-lg shadow hover:bg-indigo-600 transition duration-300 cursor-pointer">
                   Download PDF
                </span>

                <span th:if = "${isAdmin}">
                    <a th:href = "@{/admin/edit(roll_no=${studentDetail.roll_no}, bookId=${studentDetail.booksDetails[0].bookId})}"  class="inline-block bg-indigo-500 text-white py-2 px-4 rounded-lg shadow hover:bg-indigo-600 transition duration-300 cursor-pointer">
                        Update Student
                    </a> 
                </span>

                <span th:if="${isAdmin}">
                    <form th:action="@{/admin/deletestudent}" method="post" style="display: inline;">
                        <input type="hidden" name="roll_no" th:value="${studentDetail.roll_no}">
                        <button type="submit" class="inline-block bg-indigo-500 text-white py-2 px-4 rounded-lg shadow hover:bg-indigo-600 transition duration-300 cursor-pointer">
                            Delete Student
                        </button>
                    </form>
                </span>
                
                
                <span th:if = "${isAdmin}">
                    <a th:href = "@{/admin/studentallbooks(roll_no=${studentDetail.roll_no})}" class="inline-block bg-indigo-500 text-white py-2 px-4 rounded-lg shadow hover:bg-indigo-600 transition duration-300 cursor-pointer">
                        All Books
                    </a> 
                </span>
        </div>
    </div>
    </div>
</body>
<script>
    function noBookAvailable() {
        alert('The book PDF is not available.');
    }
</script>

</html>